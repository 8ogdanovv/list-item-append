define(['jquery','Idus_Core/js/url','jquery/ui'],function($,url){'use strict';$('.product-items').off('click').on('click','.product-item a.product_link',function(e){if(e.ctrlKey||e.shiftKey||e.metaKey||(e.button&&e.button==1))return;if(window.pageLoadingAjax&&typeof window.pageLoadingAjax.abort==='function')window.pageLoadingAjax.abort();var item=$(this).closest('.product-item');var page=item.attr('page');var id=item.attr('id');if(page!=undefined&&id!=undefined){var ajaxUrl=document.location.href.split('#')[0];if(page>1){ajaxUrl=ajaxUrl.replace('p='+url.getParamUrl('p'),'p='+(page));}else{ajaxUrl=ajaxUrl.replace('p='+url.getParamUrl('p'),'');}
ajaxUrl=ajaxUrl+'#'+id+'_pos';ajaxUrl=ajaxUrl.replace('?#','#');url.updateUrl(ajaxUrl);window.url_updateUrl=true;localStorage.setItem('backData',JSON.stringify({page:page,id:id+'_pos'}));}});if($(window).width()>767){$('.product-items').on('mouseenter','.product-item .product-image-photo, .product-item .product_quickview',function(){var $this=$(this);if(!$(this).hasClass('product-image-photo'))$this=$(this).closest('.product-item').find('.product-image-photo');if($this.attr('mouseenter')==undefined){$this.attr('mouseenter','true');var image=$this;var image1=image.attr('src');var image2=image.attr('src_1');if(image2!=''&&image2!=undefined){image.attr('src',image2).attr('src_1',image1);}}});$('.product-items').on('mouseleave','.product-item .product-image-photo, .product-item .product_quickview',function(){var $this=$(this);if(!$(this).hasClass('product-image-photo'))$this=$(this).closest('.product-item').find('.product-image-photo');if($this.attr('mouseenter')!=undefined){$this.removeAttr('mouseenter');var image=$this;var image1=image.attr('src');var image2=image.attr('src_1');if(image2!=''&&image2!=undefined){image.attr('src',image2).attr('src_1',image1);}}});}});